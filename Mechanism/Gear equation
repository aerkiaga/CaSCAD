r = (full_wave_height/2)*(2/pi)*arcsin(sin(tooth_count*phi)) + reference_diameter

How to apply addendum and dedendum?
How to choose pressure angle?

pressure_angle = arctan(pitch/(2*full_tooth_height))
full_wave_height = pitch/(2*tan(pressure_angle))

r = (pitch/(4*tan(pressure_angle)))*(2/pi)*arcsin(sin(tooth_count*phi)) + reference_diameter

pitch = reference_diameter*pi/tooth_count

r = reference_diameter * (1 + (1/(2*tooth_count*tan(pressure_angle))) * arcsin(sin(tooth_count*phi)))

module = pitch/pi = reference_diameter/tooth_count
minimum_tooth_count = 2*addendum/(module * sin² pressure_angle)

full_wave_height = module*pi/(2*tan(pressure_angle))

2*addendum = reference_diameter * sin² pressure_angle

addendum = addendum_coefficient*module
dedendum = dedendum_coefficient*module

minimum_tooth_count = 2*addendum_coefficient/(sin² pressure_angle)


FOR STANDARD TEETH:
addendum = module
dedendum = 1.25*module

2/minimum_tooth_count = sin² pressure_angle

TYPICALLY:
pressure_angle = 20 deg

minimum_tooth_count = 17

addendum = (1 + shift_coefficient)*module
dedendum = (1.25 - shift_coefficient)*module
minimum_shift_coefficient = (17 - desired_tooth_count)/17

full_wave_height = module*4.315727438

IN GENERAL:
r = reference_diameter * min(1 + addendum_coefficient/tooth_count, max(1 - dedendum_coefficient/tooth_count, 1 + (1/(2*tooth_count*tan(pressure_angle))) * arcsin(sin(tooth_count*phi))))

FOR STANDARD TEETH:
r = reference_diameter * min(1 + 1/tooth_count, max(1 - 1.25/tooth_count, 1 + (1/(2*tooth_count*tan(pressure_angle))) * arcsin(sin(tooth_count*phi))))

TYPICALLY:
r = reference_diameter * min(1 + 1/tooth_count, max(1 - 1.25/tooth_count, 1 + (1/(2*tooth_count*tan(20 deg))) * arcsin(sin(tooth_count*phi))))


DEBUG:
r = reference_diameter * min(1 + addendum_coefficient/tooth_count, max(1 - dedendum_coefficient/tooth_count, 1 + (1/(tooth_count*tan(pressure_angle))) * arcsin(sin(tooth_count*phi))))

Shift coefficient does not simply increase or decrease addendum/dedendum! It modifies the profile!


